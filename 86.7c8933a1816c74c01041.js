"use strict";(self.webpackChunkairbnb2=self.webpackChunkairbnb2||[]).push([[86],{86:(e,t,i)=>{i.r(t),i.d(t,{default:()=>j});var n=i(4848),a=i(4164),l=i(6540),r=i(4976),c=i(8016),o=i(491),s=i(756);var d=function(e){var t,i,a,d,u,g=e.setCount,v=(0,r.ok)(),h=v[0],m=v[1],f=(0,l.useState)(!0),x=f[0],p=f[1],j=(0,o.My)({categoryId:null!==(t=h.get("categoryId"))&&void 0!==t?t:void 0,limit:null!==(i=h.get("limit"))&&void 0!==i?i:"12",priceMax:null!==(a=h.get("price_max"))&&void 0!==a?a:void 0,priceMin:null!==(d=h.get("price_min"))&&void 0!==d?d:void 0,title:null!==(u=h.get("title"))&&void 0!==u?u:void 0}),_=j.data,k=j.refetch,N=j.isFetching,y=h.get("limit")?Number(h.get("limit")):12;(0,l.useEffect)((function(){p(!0),k().finally((function(){return p(!1)}))}),[h,k]),(0,l.useEffect)((function(){(null==_?void 0:_.length)&&g(null==_?void 0:_.length)}),[_,g]);var b;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"rEoNrkLB",children:(b=_,x||N?[1,2,3,4,5,6,7,8,9,10,11,12].map((function(e){return(0,n.jsx)(c.D,{},e)})):(null==_?void 0:_.length)?null==b?void 0:b.map((function(e){return(0,n.jsx)(c.A,{id:e.id,creationAt:e.creationAt,updatedAt:e.updatedAt,category:e.category,description:e.description,images:e.images,price:e.price,title:e.title,className:"xA4iiB35"},e.id)})):(0,n.jsx)(s.cO,{}))}),(null==_?void 0:_.length)&&(null==_?void 0:_.length)===y?(0,n.jsx)(s.$n,{className:"xcBGzFh9",theme:"transparent-gray",onClick:function(){var e=12;h.get("limit")&&(e=Number(h.get("limit"))),(null==_?void 0:_.length)===e&&(e+=8),h.set("limit",e.toString()),m(h)},children:"Show more"}):""]})},u=i(8143);var g=function(e){var t,i,r=e.title,c=e.content,o=(0,l.useState)(!1),s=o[0],d=o[1],g=(0,l.useRef)(null);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"YkuhBicQ",onClick:function(){d(!s)},children:[(0,n.jsx)("p",{children:r}),(0,n.jsx)(u.HK,{className:(0,a.A)("OKXrisuN",(t={},t.MD_EvjSK=s,t))})]}),(0,n.jsx)("div",{ref:g,className:(0,a.A)("qZBQFy91"),style:{height:s?"".concat(null===(i=g.current)||void 0===i?void 0:i.scrollHeight,"px"):"0px",marginTop:s?15:0,opacity:s?1:0},children:c})]})};var v=function(e){var t=e.id,i=e.title,l=e.isChecked,c=(0,r.ok)(),o=c[0],s=c[1],d=l?"l9xQ9pkW":"";return(0,n.jsxs)("button",{className:(0,a.A)("kWAdv7G4",d),onClick:function(){l||0===t?o.delete("categoryId"):o.set("categoryId",t.toString()),s(o)},children:[(0,n.jsx)("span",{}),i]})},h=i(2594),m=i(2754);var f=function(){var e,t=(0,r.ok)(),i=t[0],a=t[1];return(0,n.jsx)(s.pd,{type:"number",placeholder:"Enter limit...",min:12,value:null!==(e=i.get("limit"))&&void 0!==e?e:12,onChange:function(e){""===e.target.value?i.delete("limit"):i.set("limit",e.target.value.toString()),a(i)}})},x=function(e){var t=e.className,i=(0,l.useState)(""),c=i[0],o=i[1],d=(0,r.ok)(),x=d[0],p=d[1],j=(0,m.d)((function(e){""===e?x.delete("title"):x.set("title",e),p(x)}),300).debouncedFunction;return(0,l.useEffect)((function(){j(c)}),[c]),(0,l.useEffect)((function(){var e;o(null!==(e=x.get("title"))&&void 0!==e?e:"")}),[x.get("title")]),(0,n.jsxs)("div",{className:(0,a.A)("Ib3WerLh",t),children:[(0,n.jsx)(s.pd,{placeholder:"I look for...",onChange:function(e){return o(e.target.value)},value:c,lengthWhenDisabled:1,Icon:u.WI,type:"text"}),(0,n.jsx)(g,{title:"Categories",content:(0,n.jsxs)("div",{className:"HtOlccoU",children:[(0,n.jsx)(v,{title:"All",id:0,isChecked:!x.get("categoryId")}),h.Jq.map((function(e){return(0,n.jsx)(v,{title:e.title,id:e.id,isChecked:x.get("categoryId")===e.id.toString()},e.id)}))]})}),(0,n.jsx)(g,{title:"Price range",content:(0,n.jsx)(s.F1,{})}),(0,n.jsx)(g,{title:"Limit",content:(0,n.jsx)(f,{})})]})};const p={catalogPage_total_books__container:"Ls1PyBEN",catalogPage_filterPanel:"aOcTgWw5",catalogPage_sideBar__button:"rWWEdyvZ",catalogPage__container:"Uzix0Tys",catalogPage_main__container:"_Ga3YtNI"},j=function(){var e=(0,l.useState)(0),t=e[0],i=e[1],r=(0,l.useState)(window.innerWidth<=838),c=r[0],o=r[1];return(0,l.useEffect)((function(){var e=function(){o(window.innerWidth<=838)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,n.jsxs)("div",{className:(0,a.A)(p.catalogPage__container,"_container"),children:[(0,n.jsxs)("div",{className:p.catalogPage_total_books__container,children:[(0,n.jsxs)("p",{children:["Found ",t," books "]}),c&&(0,n.jsx)(s.z6,{openButton:(0,n.jsx)(s.$n,{className:p.catalogPage_sideBar__button,Icon:u.R7,theme:"transparent-gray",children:"Filters"}),title:"Filters",className:p.catalogPage_sideBar,defaultWidth:"266px",height:"520px",children:(0,n.jsx)(x,{})})]}),(0,n.jsxs)("div",{className:p.catalogPage_main__container,children:[!c&&(0,n.jsx)(x,{className:p.catalogPage_filterPanel}),(0,n.jsx)(d,{setCount:function(e){return i(e)}})]})]})}}}]);