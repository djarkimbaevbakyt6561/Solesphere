"use strict";(self.webpackChunkairbnb2=self.webpackChunkairbnb2||[]).push([[850],{2850:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var n=i(4848),a=i(4164),l=i(6540),r=i(9571),c=i(4976),o=i(8016),s=i(491),d=i(6158);var u=function(e){var t,i,a,r,u,g=e.setCount,v=(0,c.ok)(),h=v[0],m=v[1],x=(0,l.useState)(!0),f=x[0],j=x[1],p=(0,s.My)({categoryId:null!==(t=h.get("categoryId"))&&void 0!==t?t:void 0,limit:null!==(i=h.get("limit"))&&void 0!==i?i:"12",priceMax:null!==(a=h.get("price_max"))&&void 0!==a?a:void 0,priceMin:null!==(r=h.get("price_min"))&&void 0!==r?r:void 0,title:null!==(u=h.get("title"))&&void 0!==u?u:void 0}),_=p.data,N=p.refetch,k=p.isFetching;(0,l.useEffect)((function(){j(!0),N().finally((function(){return j(!1)}))}),[h,N]),(0,l.useEffect)((function(){(null==_?void 0:_.length)&&g(null==_?void 0:_.length)}),[_,g]);var y;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"rEoNrkLB",children:(y=_,f||k?[1,2,3,4,5,6,7,8,9,10,11,12].map((function(e){return(0,n.jsx)(o.D,{},e)})):(null==_?void 0:_.length)?null==y?void 0:y.map((function(e){return(0,n.jsx)(o.A,{id:e.id,creationAt:e.creationAt,updatedAt:e.updatedAt,category:e.category,description:e.description,images:e.images,price:e.price,title:e.title,className:"xA4iiB35"},e.id)})):(0,n.jsx)(d.cO,{}))}),(null==_?void 0:_.length)&&(null==_?void 0:_.length)===Number(h.get("limit"))?(0,n.jsx)(d.$n,{className:"xcBGzFh9",theme:"transparent-gray",onClick:function(){var e=12;h.get("limit")&&(e=Number(h.get("limit"))),(null==_?void 0:_.length)===e&&(e+=8),h.set("limit",e.toString()),m(h)},children:"Show more"}):""]})},g=i(7264);var v=function(e){var t,i,r=e.title,c=e.content,o=(0,l.useState)(!1),s=o[0],d=o[1],u=(0,l.useRef)(null);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"YkuhBicQ",onClick:function(){d(!s)},children:[(0,n.jsx)("p",{children:r}),(0,n.jsx)(g.HK,{className:(0,a.A)("OKXrisuN",(t={},t.MD_EvjSK=s,t))})]}),(0,n.jsx)("div",{ref:u,className:(0,a.A)("qZBQFy91"),style:{height:s?"".concat(null===(i=u.current)||void 0===i?void 0:i.scrollHeight,"px"):"0px",marginTop:s?15:0,opacity:s?1:0},children:c})]})};var h=function(e){var t=e.id,i=e.title,l=e.isChecked,r=(0,c.ok)(),o=r[0],s=r[1],d=l?"l9xQ9pkW":"";return(0,n.jsxs)("button",{className:(0,a.A)("kWAdv7G4",d),onClick:function(){l||0===t?o.delete("categoryId"):o.set("categoryId",t.toString()),s(o)},children:[(0,n.jsx)("span",{}),i]})},m=i(2594),x=i(9588);var f=function(){var e,t=(0,c.ok)(),i=t[0],a=t[1];return(0,n.jsx)(d.pd,{type:"number",placeholder:"Enter limit...",min:12,value:null!==(e=i.get("limit"))&&void 0!==e?e:12,onChange:function(e){""===e.target.value?i.delete("limit"):i.set("limit",e.target.value.toString()),a(i)}})},j=function(e){var t=e.className,i=(0,l.useState)(""),r=i[0],o=i[1],s=(0,c.ok)(),u=s[0],j=s[1],p=(0,x.d)((function(e){""===e?u.delete("title"):u.set("title",e),j(u)}),300).debouncedFunction;return(0,l.useEffect)((function(){p(r)}),[r]),(0,n.jsxs)("div",{className:(0,a.A)("Ib3WerLh",t),children:[(0,n.jsx)(d.pd,{placeholder:"I look for...",onChange:function(e){return o(e.target.value)},value:r,lengthWhenDisabled:1,Icon:g.WI,type:"text"}),(0,n.jsx)(v,{title:"Categories",content:(0,n.jsxs)("div",{className:"HtOlccoU",children:[(0,n.jsx)(h,{title:"All",id:0,isChecked:!u.get("categoryId")}),m.Jq.map((function(e){return(0,n.jsx)(h,{title:e.title,id:e.id,isChecked:u.get("categoryId")===e.id.toString()},e.id)}))]})}),(0,n.jsx)(v,{title:"Price range",content:(0,n.jsx)(d.F1,{})}),(0,n.jsx)(v,{title:"Limit",content:(0,n.jsx)(f,{})})]})};const p={catalogPage_total_books__container:"Ls1PyBEN",catalogPage_filterPanel:"aOcTgWw5",catalogPage_sideBar__button:"rWWEdyvZ",catalogPage__container:"Uzix0Tys",catalogPage_main__container:"_Ga3YtNI"},_=function(){var e=(0,l.useState)(0),t=e[0],i=e[1],c=(0,l.useState)(window.innerWidth<=838),o=c[0],s=c[1];return(0,l.useEffect)((function(){var e=function(){s(window.innerWidth<=838)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,n.jsxs)("div",{className:(0,a.A)(p.catalogPage__container,"_container"),children:[(0,n.jsx)(r.N9,{}),(0,n.jsxs)("div",{className:p.catalogPage_total_books__container,children:[(0,n.jsxs)("p",{children:["Found ",t," books "]}),o&&(0,n.jsx)(d.z6,{openButton:(0,n.jsx)(d.$n,{className:p.catalogPage_sideBar__button,Icon:g.R7,theme:"transparent-gray",children:"Filters"}),title:"Filters",className:p.catalogPage_sideBar,defaultWidth:"266px",height:"520px",children:(0,n.jsx)(j,{})})]}),(0,n.jsxs)("div",{className:p.catalogPage_main__container,children:[!o&&(0,n.jsx)(j,{className:p.catalogPage_filterPanel}),(0,n.jsx)(u,{setCount:function(e){return i(e)}})]})]})}}}]);